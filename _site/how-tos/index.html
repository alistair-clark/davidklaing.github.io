<!DOCTYPE html>
<html>
    <head>
    <title>How-tos</title>
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/light-border.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">
    <link rel="stylesheet" href="/css/styles.css">
</head>
    <body>
        <div class="container">
            <div class="site-header">
    <a id="home" class="internal-link" href="/">davidklaing.com</a>&nbsp&nbsp&nbsp&nbsp<a id="subscribe" class="internal-link" href="/subscribe">subscribe</a>
</div>
<hr>
            <div class="content">
                <article class="page">
    <div class="container">
        <div class="col-5 col-s-9 article-content">
            
                <h1>How-tos</h1>
            
            
            <ul>
  <li><a id="how-to-learn-chess-faster" class="internal-link" href="/how-to-learn-chess-faster/">How to learn chess faster</a></li>
  <li><a id="how-to-get-a-job-in-data-science" class="internal-link" href="/how-to-get-a-job-in-data-science/">How to get a job in data science</a></li>
  <li><a id="how-to-invest-in-index-funds" class="internal-link" href="/how-to-invest-in-index-funds/">How to invest in index funds, for Canadians</a></li>
  <li><a id="how-to-wrangle-nested-data-using-the-tidyverse" class="internal-link" href="/how-to-wrangle-nested-data-using-the-tidyverse/">How to wrangle nested data using the tidyverse</a></li>
  <li><a id="how-to-use-Roam-as-a-slip-box" class="internal-link" href="/how-to-use-Roam-as-a-slip-box/">How to use Roam as a slip-box</a></li>
</ul>

        </div>
        <div class="col-3 col-s-9 article-backlinks">
            
            <h1>Links to this page</h1>
            <ul><li><a id="home" class="internal-link" href="/">davidklaing.com</a></li></ul>
            
        </div>
    </div>
</article>
            </div>
        </div>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://unpkg.com/tippy.js@6"></script>
        <script type="text/javascript">
            tippy('#home', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'bottom',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<p>Welcome! I’m <a class="internal-link" href="/about-me/" id="about-me">David Laing</a>. I write to share my learning, to give more life to ideas that I think are underappreciated, to make it easier for my future friends to find me, and because <a class="internal-link" href="/talk-more/" id="talk-more">if you’re good, you need to talk more</a>.</p><ul><li><p><a class="internal-link" href="/how-tos/" id="how-tos">How-tos</a></p></li><li><p><a class="internal-link" href="/commentaries/" id="commentaries">Commentaries</a></p></li><li><p><a class="internal-link" href="/bookshelf/" id="bookshelf">Bookshelf</a></p></li></ul>'
});
            tippy('#subscribe', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'bottom',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<p>I think of my newsletter as a forcing function to help me reflect every month on the books, articles, ideas, and music that resonated with me the most. Join, if you dare!</p><iframe frameborder="0" height="320" scrolling="no" src="https://davidlaing.substack.com/embed" style="border:1px solid #EEE; background:white;" width="480"></iframe>'
});
        </script>
        
            <script type="text/javascript">
                tippy('#how-to-wrangle-nested-data-using-the-tidyverse', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'right',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<h1>How to wrangle nested data using the tidyverse</h1><hr/><em>Last updated 2019-02-25</em><hr/><p>Most of my R training involved operations on dataframes, usually with <code class="language-plaintext highlighter-rouge">dplyr</code> functions like <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">select</code>, <code class="language-plaintext highlighter-rouge">mutate</code>, <code class="language-plaintext highlighter-rouge">group_by</code>, and <code class="language-plaintext highlighter-rouge">summarize</code>. These are wonderful tools that I use every day. However, there is a second set of tools that have become equally important in my day-to-day data manipulation work in R: those for working with lists.</p><p>You may have been told on your first day learning R that a list is a special type of vector that can contain elements of different types, including lists. If you’re like me, you promptly forgot this fact, and spent the next year working with deliciously rectangular dataframes. But if you spend enough time working with data, it eventually becomes clear that most data isn’t born as a tidy CSV. Instead, it’s usually stored in a nested structure such as JSON or XML. That’s why lists are so useful in R. They are the most natural data type for representing a nested structure.</p><p>If <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">select</code>, <code class="language-plaintext highlighter-rouge">mutate</code>, <code class="language-plaintext highlighter-rouge">group_by</code>, and <code class="language-plaintext highlighter-rouge">summarize</code> form my basic vocabulary for working with rectangular data, then <code class="language-plaintext highlighter-rouge">stringr::str_detect</code>, <code class="language-plaintext highlighter-rouge">jsonlite::fromJSON</code>, <code class="language-plaintext highlighter-rouge">magrittr::extract2</code>, and <code class="language-plaintext highlighter-rouge">purrr::map</code> form my basic vocabulary for working with nested data.</p><p>Say you’re working with telemetry data from a website. Your raw data probably comes out of a database looking something like this:</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w"></span><span class="n">library</span><span class="p">(</span><span class="n">magrittr</span><span class="p">)</span><span class="w"></span><span class="n">library</span><span class="p">(</span><span class="n">jsonlite</span><span class="p">)</span><span class="w"></span><span class="n">library</span><span class="p">(</span><span class="n">knitr</span><span class="p">)</span><span class="w"></span><span class="n">user_actions</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tibble</span><span class="p">(</span><span class="w">  </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"david"</span><span class="p">,</span><span class="w"> </span><span class="s2">"david"</span><span class="p">,</span><span class="w"> </span><span class="s2">"david"</span><span class="p">,</span><span class="w"> </span><span class="s2">"david"</span><span class="p">,</span><span class="w"> </span><span class="s2">"david"</span><span class="p">,</span><span class="w"> </span><span class="s2">"david"</span><span class="p">),</span><span class="w">  </span><span class="n">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="w">    </span><span class="s1">'{"Type": "Login", "UtcTimestamp": "2019-03-05 12:30:41", "user": "david"}'</span><span class="p">,</span><span class="w">    </span><span class="s1">'{"Type": "ButtonPress", "UtcTimestamp": "2019-03-05 12:30:43", "ButtonID": "2kdkkdfl-jnsdol32", "ButtonName": "Settings"}'</span><span class="p">,</span><span class="w">    </span><span class="s1">'{"Type": "ToggleCheckbox", "UtcTimestamp": "2019-03-05 12:30:44", "CheckboxID": "5d2ddnn8-polen2e7", "CheckboxName": "Subscribe to email newsletter", "CheckboxStatus": "FALSE"}'</span><span class="p">,</span><span class="w">    </span><span class="s1">'{"Type": "ToggleCheckbox", "UtcTimestamp": "2019-03-05 12:30:45", "CheckboxID": "jjdfj133-883jdnb3", "CheckboxName": "Desktop notifications", "CheckboxStatus": "FALSE"}'</span><span class="p">,</span><span class="w">    </span><span class="s1">'{"Type": "ButtonPress", "UtcTimestamp": "2019-03-05 12:30:50", "ButtonID": "lop29cdk-4jns910d", "ButtonName": "Home"}'</span><span class="p">,</span><span class="w">    </span><span class="s1">'{"Type": "FollowLink", "UtcTimestamp": "2019-03-05 12:30:59", "URL": "https://www.theglobeandmail.com/"}'</span><span class="w">  </span><span class="p">)</span><span class="w"></span><span class="p">)</span><span class="w"></span><span class="n">user_actions</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">kable</span><span class="p">()</span><span class="w"></span></code></pre></div></div><table><thead><tr><th style="text-align: left">user</th><th style="text-align: left">action</th></tr></thead><tbody><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “Login”, “UtcTimestamp”: “2019-03-05 12:30:41”, “user”: “david”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ButtonPress”, “UtcTimestamp”: “2019-03-05 12:30:43”, “ButtonID”: “2kdkkdfl-jnsdol32”, “ButtonName”: “Settings”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:44”, “CheckboxID”: “5d2ddnn8-polen2e7”, “CheckboxName”: “Subscribe to email newsletter”, “CheckboxStatus”: “FALSE”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:45”, “CheckboxID”: “jjdfj133-883jdnb3”, “CheckboxName”: “Desktop notifications”, “CheckboxStatus”: “FALSE”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ButtonPress”, “UtcTimestamp”: “2019-03-05 12:30:50”, “ButtonID”: “lop29cdk-4jns910d”, “ButtonName”: “Home”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “FollowLink”, “UtcTimestamp”: “2019-03-05 12:30:59”, “URL”: “<a href="https://www.theglobeandmail.com/">https://www.theglobeandmail.com/</a>”}</td></tr></tbody></table><p>Each logged event is a JSON string containing properties of the event. In my experience, the most common tasks for converting these nested structures into more legible rectangular structures are these:</p><h2 id="1-finding-all-events-of-a-particular-type">1. Finding all events of a particular type.</h2><p>Assuming that event types can be identified by the presence or absence of specific strings in the JSON, you can use <code class="language-plaintext highlighter-rouge">filter</code> along with <code class="language-plaintext highlighter-rouge">stringr::str_detect</code> to keep all rows of your events dataframe where the <code class="language-plaintext highlighter-rouge">action</code> string contains a pattern of interest. For example, say you want get all the <code class="language-plaintext highlighter-rouge">ToggleCheckbox</code> events.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user_actions</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">filter</span><span class="p">(</span><span class="n">str_detect</span><span class="p">(</span><span class="n">action</span><span class="p">,</span><span class="w"> </span><span class="s2">"ToggleCheckbox"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">kable</span><span class="p">()</span><span class="w"></span></code></pre></div></div><table><thead><tr><th style="text-align: left">user</th><th style="text-align: left">action</th></tr></thead><tbody><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:44”, “CheckboxID”: “5d2ddnn8-polen2e7”, “CheckboxName”: “Subscribe to email newsletter”, “CheckboxStatus”: “FALSE”}</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:45”, “CheckboxID”: “jjdfj133-883jdnb3”, “CheckboxName”: “Desktop notifications”, “CheckboxStatus”: “FALSE”}</td></tr></tbody></table><h2 id="2-extracting-one-or-more-properties-from-an-event">2. Extracting one or more properties from an event.</h2><p>To extract a property from an event, you need to convert the event to a list and then index it. Let’s take the first <code class="language-plaintext highlighter-rouge">ToggleCheckbox</code> event as an example.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">first_toggle_checkbox_event</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">user_actions</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">filter</span><span class="p">(</span><span class="n">str_detect</span><span class="p">(</span><span class="n">action</span><span class="p">,</span><span class="w"> </span><span class="s2">"ToggleCheckbox"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">slice</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">pull</span><span class="p">())</span><span class="w"></span></code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "{\"Type\": \"ToggleCheckbox\", \"UtcTimestamp\": \"2019-03-05 12:30:44\", \"CheckboxID\": \"5d2ddnn8-polen2e7\", \"CheckboxName\": \"Subscribe to email newsletter\", \"CheckboxStatus\": \"FALSE\"}"</code></pre></div></div><p>We’ll use <code class="language-plaintext highlighter-rouge">jsonlite::fromJSON</code> to convert this string to a list, and then we’ll use <code class="language-plaintext highlighter-rouge">magrittr::extract2</code> to retrieve the <code class="language-plaintext highlighter-rouge">CheckboxName</code> property.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_toggle_checkbox_event</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">fromJSON</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">extract2</span><span class="p">(</span><span class="s2">"CheckboxName"</span><span class="p">)</span><span class="w"></span></code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "Subscribe to email newsletter"</code></pre></div></div><p>If you’ve never seen <code class="language-plaintext highlighter-rouge">extract2</code> before, it does the exact same thing as double square brackets, except that it takes the list as its first argument. This makes it very easy to use inside a chain of piped commands. (By contrast, <code class="language-plaintext highlighter-rouge">extract</code> does the same thing as single square brackets — usually not quite as useful.)</p><p>An alternative option is to use <code class="language-plaintext highlighter-rouge">%$%</code> — a <code class="language-plaintext highlighter-rouge">magrittr</code> infix function designed to work just like the standard pipe (<code class="language-plaintext highlighter-rouge">%&gt;%</code>) — except that the second argument is the name of the element to extract. For example, the code below is equivalent to the code above.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_toggle_checkbox_event</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">fromJSON</span><span class="p">()</span><span class="w"> </span><span class="o">%$%</span><span class="w">  </span><span class="n">CheckboxName</span><span class="w"></span></code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] "Subscribe to email newsletter"</code></pre></div></div><p>I prefer <code class="language-plaintext highlighter-rouge">extract2</code> because it feels a bit more explicit, but the second option is arguably more readable.</p><h2 id="3-operating-on-multiple-events-simultaneously">3. Operating on multiple events simultaneously.</h2><p>Lastly, you might wish to write an extraction function and map it across all events, regardless of their type. For this, you’ll want to pass <code class="language-plaintext highlighter-rouge">purrr::map</code> into <code class="language-plaintext highlighter-rouge">mutate</code>. For example, say we want to extract the timestamp from all events. We would start by writing a function to extract the <code class="language-plaintext highlighter-rouge">UtcTimestamp</code> field from a given event.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">extract_utc_timestamp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="n">event</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">     </span><span class="n">fromJSON</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">     </span><span class="n">extract2</span><span class="p">(</span><span class="s2">"UtcTimestamp"</span><span class="p">)</span><span class="w"></span><span class="p">}</span><span class="w"></span></code></pre></div></div><p>Our next step is to map this function across the values of the <code class="language-plaintext highlighter-rouge">action</code> column in our dataframe. You might wonder why it’s not possible to do the following:</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user_actions</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">mutate</span><span class="p">(</span><span class="n">utc_timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">extract_utc_timestamp</span><span class="p">(</span><span class="n">action</span><span class="p">))</span><span class="w"></span></code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Error in mutate_impl(.data, dots): Evaluation error: parse error: trailing garbage##            12:30:41", "user": "david"} {"Type": "ButtonPress", "UtcTim##                      (right here) ------^## .</code></pre></div></div><p>The reason is that our function, <code class="language-plaintext highlighter-rouge">extract_utc_timestamp</code>, expects <code class="language-plaintext highlighter-rouge">event</code> to be a character vector of length 1. But <code class="language-plaintext highlighter-rouge">mutate</code> is passing in the entire character vector that is the <code class="language-plaintext highlighter-rouge">action</code> column. Unlike <code class="language-plaintext highlighter-rouge">sum</code> or <code class="language-plaintext highlighter-rouge">mean</code>, which can be passed into <code class="language-plaintext highlighter-rouge">mutate</code> with no issues, our function takes a single input and gives a single output.</p><p>If we want to apply this function across the whole set of values in the <code class="language-plaintext highlighter-rouge">action</code> column, we’ll need <code class="language-plaintext highlighter-rouge">map</code>, which does just that: it applies a function across a set of values and returns the resulting set of values. Now, <code class="language-plaintext highlighter-rouge">map</code> has a few variants depending on the desired class of the output; the default just returns a list. But in this case we want a character vector, so we’ll use <code class="language-plaintext highlighter-rouge">map_chr</code>.</p><div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user_actions</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">mutate</span><span class="p">(</span><span class="w">    </span><span class="n">user_actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map_chr</span><span class="p">(</span><span class="w">      </span><span class="n">.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">action</span><span class="p">,</span><span class="w">      </span><span class="n">.f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">extract_utc_timestamp</span><span class="w">    </span><span class="p">)</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">   </span><span class="n">kable</span><span class="p">()</span><span class="w"></span></code></pre></div></div><table><thead><tr><th style="text-align: left">user</th><th style="text-align: left">action</th><th style="text-align: left">user_actions</th></tr></thead><tbody><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “Login”, “UtcTimestamp”: “2019-03-05 12:30:41”, “user”: “david”}</td><td style="text-align: left">2019-03-05 12:30:41</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ButtonPress”, “UtcTimestamp”: “2019-03-05 12:30:43”, “ButtonID”: “2kdkkdfl-jnsdol32”, “ButtonName”: “Settings”}</td><td style="text-align: left">2019-03-05 12:30:43</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:44”, “CheckboxID”: “5d2ddnn8-polen2e7”, “CheckboxName”: “Subscribe to email newsletter”, “CheckboxStatus”: “FALSE”}</td><td style="text-align: left">2019-03-05 12:30:44</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ToggleCheckbox”, “UtcTimestamp”: “2019-03-05 12:30:45”, “CheckboxID”: “jjdfj133-883jdnb3”, “CheckboxName”: “Desktop notifications”, “CheckboxStatus”: “FALSE”}</td><td style="text-align: left">2019-03-05 12:30:45</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “ButtonPress”, “UtcTimestamp”: “2019-03-05 12:30:50”, “ButtonID”: “lop29cdk-4jns910d”, “ButtonName”: “Home”}</td><td style="text-align: left">2019-03-05 12:30:50</td></tr><tr><td style="text-align: left">david</td><td style="text-align: left">{“Type”: “FollowLink”, “UtcTimestamp”: “2019-03-05 12:30:59”, “URL”: “<a href="https://www.theglobeandmail.com/">https://www.theglobeandmail.com/</a>”}</td><td style="text-align: left">2019-03-05 12:30:59</td></tr></tbody></table><p>There you have it! With these four functions — <code class="language-plaintext highlighter-rouge">str_detect</code>, <code class="language-plaintext highlighter-rouge">fromJSON</code>, <code class="language-plaintext highlighter-rouge">extract2</code>, and <code class="language-plaintext highlighter-rouge">map</code> — you can perform all sorts of operations on large sets of nested data.</p>'
});
            </script>
        
            <script type="text/javascript">
                tippy('#how-to-use-roam-as-a-slip-box', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'right',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<h1>How to use Roam as a slip-box</h1><hr/><em>Last updated 2020-02-01</em><hr/><h2 id="the-slip-box-method">The slip-box method</h2><p>I’ve been experimenting with a new note-taking system. It’s called the “slip-box” method, so named because it originally comprised a literal box into which the notetaker would slip index cards.</p><p>The method excites me for two reasons. One: it’s a system for reflecting privately on the things I read—for checking my understanding, for improving retention of information, and for identifying questions to follow up on. Two: it’s a system for making connections between ideas. Creativity is mostly a matter of combining things in unusual ways, and the slip-box is a playground designed specifically for that.</p><p>So, what is it? Essentially, it is an incubation chamber for two types of written documents.</p><ul><li><em>Literature notes</em> are paraphrases of ideas and arguments encountered during research, complete with references.</li><li><em>Permanent notes</em> are the notetaker’s ‘original’ thoughts.</li></ul><p>Both types of notes are written in publishable-quality prose, and each note is meant to include enough detail that it could be read and understood on its own. The magic starts once you have enough notes that you can start connecting them to each other, prompting the creation of even more notes.</p><p>The inventor of the slip-box method, the German sociologist Niklas Luhmann, connected his notes manually with an intricate system of IDs. But now we have software that can manage connections for us. Enter <a href="https://roamresearch.com/">Roam Research</a>, a new note-taking power-tool that early users are going absolutely bonkers over. I too have joined the <a href="https://twitter.com/search?q=%23roamcult">cult</a>. Roam is special for many reasons, one of which is that it’s a perfect platform for building a modern slip-box. (Roam’s founder, Conor White-Sullivan, was heavily influenced by Luhmann.)</p><p>Still, I haven’t yet seen any accounts of how to use Roam as a slip-box. Despite being new to both Roam and the slip-box method, I thought I’d share my current system.</p><p>If you aren’t familiar with Roam, you should go read Nat Eliason’s <a href="https://www.nateliason.com/blog/roam">Roam: Why I Love it and How I Use It</a>. If you want to learn more about the slip-box method, read Sönke Ahrens’ book <a href="https://www.goodreads.com/book/show/34507927-how-to-take-smart-notes">How to Take Smart Notes</a> or Yuxi Liu’s <a href="https://www.lesswrong.com/posts/T382CLwAjsy3fmecf/how-to-take-smart-notes-ahrens-2017">summary of it</a>.</p><h2 id="roam-as-a-slip-box">Roam as a slip-box</h2><p>When I first started experimenting with the slip-box method in Roam, I had three questions:</p><ol><li><strong>Where should I write my notes?</strong> Should each note be its own page, or its own block? How should I manage note metadata, if at all?</li><li><strong>How should I distinguish between types of notes?</strong> How should literature notes be categorized separately from permanent notes, and how should both of them be categorized separately from other uses of Roam?</li><li><strong>How should I connect my notes to each other?</strong> By inline page links, by sub-blocks, or something else?</li></ol><p>My answers to these questions are in three Roam features:</p><ul><li><p><strong>Daily Notes pages.</strong> I write all my literature notes and permanent notes as individual blocks in my daily notes. This makes it easy to track when I wrote each note, and means that other notes or thoughts can be conveniently added in parallel without needing to bounce around between pages.</p></li><li><p><strong>Tags</strong>: I have a tag for literature notes (<code class="language-plaintext highlighter-rouge">#litnote</code>) and a tag for permanent notes (<code class="language-plaintext highlighter-rouge">#permnote</code>). I include these tags, as well as any relevant reference material, at the end of the relevant blocks. When I want to see all my literature notes or permanent notes together, I can go to the <code class="language-plaintext highlighter-rouge">litnote</code> or <code class="language-plaintext highlighter-rouge">permnote</code> pages and see them in the linked references.</p></li><li><p><strong>Block references</strong>: Roam allows inline links to other pages, but sometimes you don’t want to link a block to a whole page, but simply to another block. For this I use block references: by typing double parentheses and searching for the original block of interest, I can insert that block into my current block at any point and add whatever additional information I want to include in my new note.</p></li></ul><p>You can see me using all three of these features in my daily notes page from January 18th:</p><p><img alt="" src="/assets/img/roam_slipbox/roam_daily_note.png"/></p><p>I like this system because it makes many things easy. I can compose, categorize, connect, and track my notes all at the speed of thought, without being prevented from using Roam for other purposes.</p><p>Still, my system will surely keep evolving. I don’t consider myself a Roam poweruser, so if you are one and you have suggestions, please do send them my way.</p>'
});
            </script>
        
            <script type="text/javascript">
                tippy('#how-to-learn-chess-faster', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'right',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<h1>How to learn chess faster</h1><p>1. Only play timed games. Untimed chess is a boring war of attrition that slows your learning.</p><p>2. When playing blitz, choose a time control with an increment. I like 3 minutes with a 2-second increment per turn. This allows your games to play right through to checkmate rather than causing you to randomly flail so you don’t run out of time.</p><p>3. Don’t bother studying openings until you can consistently avoid blundering. This will probably take several months of consistent practice.</p><p>4. When you do start learning some openings, learn a few unusual ones. Almost everyone rated less than 1200 or so just plays e4 as white and e5 as a response. You can throw a lot of people off just by playing d4 openings as white and Sicilian as black.</p><p>5. Go to a chess meetup! You’ll get to play with people who are much better than the people you get matched with online. You’ll get crushed at first, but if you ask them for advice they’ll give you tons.</p><p>6. If you’ve hit a plateau, learn some new openings. Your rating will probably drop at first, but at least you’ll be <em>thinking</em> rather than just following the same old scripts.</p><p>7. Just because you’re losing a game doesn’t mean you can’t play better or worse. Set a goal for yourself to survive another five moves. If you succeed, try to survive another five. Etc.</p><p>8. Decide how good is good enough. I’ve plateaued at a blitz rating of about 1200, and at this point I know that I won’t get any better without serious study. If you want to get really good, be prepared to pay the price.</p><p>9. <a href="https://chessable.com">Chessable</a> is spaced repetition software for chess. Use it to learn new openings and tactics.</p><p>10. Watch <a href="https://www.youtube.com/channel/UC6hOVYvNn79Sl1Fc1vx2mYA">John Bartholomew’s videos</a>. He’s the best chess teacher out there, and most of what I’ve learned I learned from him.</p>'
});
            </script>
        
            <script type="text/javascript">
                tippy('#how-to-invest-in-index-funds', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'right',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<h1>How to invest in index funds, for Canadians</h1><hr/><em>Last updated 2020-02-11</em><hr/><p>Several friends have told me that they’ve read enough about investing to know that it’s best for non-professional investors to use index funds. But they don’t know how. Like, literally: what buttons should they press? I’m not a financial advisor, but here’s a system that works for me, as a Canadian:</p><p>1. Open a self-directed tax-free savings account (TFSA) with TD: <a href="https://www.td.com/ca/en/investing/direct-investing/tfsa-accounts/">https://www.td.com/ca/en/investing/direct-investing/tfsa-accounts/</a></p><p>The TFSA is a great place to start because you invest after-tax income, and can withdraw tax-free. There’s nothing fancy: you just put money in, then invest, and withdraw when you want to.</p><p>2. Transfer some money into your account. I don’t know the easiest way to do this if you don’t also have a checking account with TD, but if you do, you can do it on the transfers page on EasyWeb:</p><p><img alt="" src="/assets/img/passive_investing/transfer.png"/></p><p>3. Now that you’ve added some money, go to your TFSA in WebBroker: <a href="https://webbroker.td.com">https://webbroker.td.com</a></p><p>4. Click Buy/Sell at the top of the screen:</p><p><img alt="" src="/assets/img/passive_investing/buy_sell.png"/></p><p>5. On the pop-up, go to Mutual Funds:</p><p><img alt="" src="/assets/img/passive_investing/mutual_funds.png"/></p><p>6. Decide on your portfolio: what proportion of your investments will go into which funds? Mine is adapted from the model portfolios on Canadian Couch Potato, a site that I think is the best source of information about passive investing for Canadians. Here’s the site: <a href="https://canadiancouchpotato.com">https://canadiancouchpotato.com</a></p><p>And here are the model portfolios for the TD e-Series funds, which are the ones I invest in: <a href="https://cdn.canadiancouchpotato.com/wp-content/uploads/2020/02/CCP-Model-Portfolios-TD-e-Series-2019.pdf">https://cdn.canadiancouchpotato.com/wp-content/uploads/2020/02/CCP-Model-Portfolios-TD-e-Series-2019.pdf</a></p><p>If your investment horizon is shorter (i.e. you want to withdraw this money in the next few years), choose a portfolio that has more bonds relative to stocks. If your horizon is longer, choose one with more stocks relative to bonds.</p><p>Personally, I have a shorter horizon for my TFSA (which I think of as down payment money) and a longer horizon for my RSP (which I think of as retirement money). So I have different portfolios for each.</p><p>I invest in more American and international stocks than Canadian ones, simply because those markets are larger and I want to avoid “home bias”—the tendency for investors to invest in companies from their own countries. But the best allocation for me is not necessarily the best one for you. To reiterate: I’m not a financial advisor, and if you feel more comfortable just following Canadian Couch Potato’s advice, you should do that. Really though, do your research and think it through.</p><p>If you’re interested, here’s the breakdown for my TFSA, which is quite conservative since it’s shorter-term:</p><ul><li>10% cash</li><li>15% Canadian stock index (TDB900)</li><li>20% International stock index (TDB911)</li><li>25% US stock index (TDB902)</li><li>30% Canadian bond index (TDB909)</li></ul><p>And here’s the breakdown for my RSP, which is more aggressive since it’s long-term:</p><ul><li>0% cash</li><li>20% Canadian stock index (TDB900)</li><li>30% International stock index (TDB911)</li><li>40% US stock index (TDB902)</li><li>10% Canadian bond index (TDB909)</li></ul><p>7. After deciding on your portfolio, calculate how much of your cash to invest in each fund. You can whip out your calculator and just calculate the percentages every time if you want, but:</p><p>Personally, I use a spreadsheet to rebalance my portfolio every time I add more cash. Feel free to <a href="https://docs.google.com/spreadsheets/d/1OWwhZ3SmQ4fmUzL-OpPVEaLibobMznyUdAFXwQIeLn0/copy">make a copy</a> of the template, if you want to use it. Edit the values under “Current Amount” and “Target Percentage”, and everything else will update automatically.</p><p>8. Go back to the Buy &amp; Sell page on WebBroker, and search for the first fund in your list. For example:</p><p><img alt="" src="/assets/img/passive_investing/search_fund.png"/></p><p>9. For “Quantity type”, choose “Dollar Amount”:</p><p><img alt="" src="/assets/img/passive_investing/quantity_type.png"/></p><p>10. Enter the amount from the “Delta” column if you’re using my spreadsheet template, or just add however much you want to invest in this particular fund. ($100 is the minimum amount for each of these funds.)</p><p><img alt="" src="/assets/img/passive_investing/enter_amount.png"/></p><p>11. Click “Preview order”, then “Agree &amp; Send Order”:</p><p><img alt="" src="/assets/img/passive_investing/send_order.png"/></p><p>12. Profit!</p><p>This system obviously isn’t for everyone, but if you’re a Canadian who has found this stuff a bit out of reach, I hope this post has demystified a few parts of it for you.</p><p>One last time: I am not a financial advisor, and I am definitely not <em>your</em> financial advisor. But if you have any questions on the level of this nuts &amp; bolts stuff, or about my experience investing in the e-Series funds with TD’s self-directed accounts, I’m happy to help!</p><p>(PS: I know all this stuff because I’m fortunate to have a dad who worked at TD and who showed me how to do it. It’s all pretty simple once you’ve done it, but highly non-obvious if you haven’t.)</p>'
});
            </script>
        
            <script type="text/javascript">
                tippy('#how-to-get-a-job-in-data-science', {
    theme: 'light-border',
    arrow: false,
    allowHTML: true,
    placement: 'right',
    touch: false,
    maxWidth: 550,
    interactive: true,
    interactiveBorder: 1,
    content: '<h1>How to get a job in data science</h1><hr/><em>Last updated 2019-04-11</em><hr/><p>It is said that when you give the same advice three times, you should write it down in a blog post. I’m often approached for advice by job seekers in data science, so this is that blog post.</p><p>When a company hires someone, they want to know that the person 1) <em>can</em> and 2) <em>will</em> do the job. Most people’s résumés do extremely little on their own to inspire this confidence, especially in a tough job market. The good news is, you have options. You just have to display patent evidence of your <strong>skills</strong> (whether you can do the job) and your <strong>character</strong> (whether you will do it).</p><p>The best way to create evidence of your skills is to use them and then share the artifacts of your work.</p><p>One option is to do a project that is targeted at the company you want to work for. Read the job posting carefully to figure out what the job is, and then spend a weekend putting together a small project that demonstrates your ability to do it.</p><p>If you’re lucky, the posting will include details about a take-home assessment that will be required as part of the interview process. 99% of people who apply to the position will just submit a résumé and a boiler-plate cover letter; they wouldn’t dream of doing the take-home assessment before even getting a first interview. So a great way to stand out is to do the project preemptively and send it in.</p><p>Another option is to come up with a project of your own. Some people will say not to try Kaggle contests because <em>everyone</em> does Kaggle contests. I’m not convinced of that advice. The first step is to do something, anything at all. If Kaggle seems fun to you, go for it. Another option is to pick a textbook and start reading it. Summarize a chapter or two and share what you’ve learned online. You don’t need to be original. You just need to be more generative than the average job-seeker.</p><p>The strongest evidence of your character is in your current relationships. That’s why referrals are best sought from the people you already know, especially people you’ve known for a long time or worked with previously. If you haven’t already, I recommend that you tell everyone you know that you’re looking for work.</p><p>If this avenue dries up, you may need to get to know new people. If you’re sharing high-quality work online, you will be more likely to make serendipitous connections. Beyond that, you may decide to go to some meetups or conferences. This can work well if you’re strategic. You want to draw <em>some</em> attention to yourself, especially from people who might potentially hire or refer you, but it has to be the right kind of attention. You don’t want to just wander from person to person telling them you’re looking for work. A better strategy is to ask a thoughtful question during a talk. This will give people an ice-breaker so that they can come talk to <em>you</em>. And in the mingling sessions, just ask lots of questions and listen to the answers.</p><p>I don’t think résumés or cover letters matter very much. One page, two pages—who cares? Just make sure there are no glaring typos, that you summarize your qualifications, and that there is information about where to learn more about you—LinkedIn, GitHub, your website, etc. Don’t go overboard describing your skills, especially soft skills. Anybody can write that stuff on a résumé, so it doesn’t convey much information.</p><p>Most of what I’ve said applies to any job search. What about in data science specifically? What should you know, and how can you stand out? I’ll answer these questions by offering three examples of interview questions that I think would do a good job of assessing a potential data scientist, along with what I would hope to see in a candidate’s answer.</p><blockquote><p>You work for a bank, and you’ve been asked to write a Python or R package to facilitate ongoing analysis of online surveys which are sent to customers every time they visit a branch in person. What first steps would you take to ensure that this project is successful? Be specific: what is on your to-do list for the first couple days of package development?</p></blockquote><p>This question has two purposes. The first is to get a sense of your project management skills. How deeply do you try to understand a problem before you start executing on a solution? How do you budget your time and figure out the scope of your responsibilities? How do you forestall unneeded risks or costs?</p><p>The second purpose is to gauge your level of experience as a developer. Do you know how to set up the right directory structure? Will you use a git branching model? How will you track dependencies? Do you have a preferred testing framework?  Will you set up continuous integration? Will you set up git hooks or some other system to auto-generate documentation? These things are the bread and butter of many data science jobs.</p><blockquote><p>A senior executive at your company has heard that one of your models, which uses the k-nearest neighbors algorithm to predict house prices, involves something called a “bias-variance tradeoff”. They want to know what this tradeoff is, and also why your algorithm seems to depend so much on “neighboring” houses, when there ought to be other relevant factors to consider. How would you explain?</p></blockquote><p>Data scientists frequently need to explain their work to decision-makers or stakeholders, and this often involves disambiguating technical terms. This question presents an opportunity to give a vivid explanation of the bias-variance tradeoff by relating it to a hyperparameter (<em>k</em>) in a relatively simple algorithm. It also tests your ability to explain, tactfully and clearly, what is meant by “neighbor” if not the traditional meaning. My advice to you for answering questions like this one is to ground your explanation in a <a href="https://davidklaing.com/blog/2017/11/10/communication-in-data-science.html">concrete example</a>.</p><blockquote><p>You work for a company that offers a subscription-based meditation app. You have behavioral data about each user – how often they open the app, which pages they visit, etc. After creating around 20 features, one of your colleagues built a multiple logistic regression model to predict whether a user will cancel their subscription in the next month. They found that just one behavior has a statistically significant relationship with cancellation: the frequency at which the user opens the app before 9:00am. Your colleague is proposing that a notification be sent by default every morning, and wants to know your thoughts. What questions would you ask about their analysis, and what do you think of their conclusion?</p></blockquote><p>Some findings are surprising because you’ve done your job well: you uncovered something that wasn’t obvious. Some findings are surprising because they’re wrong. One of the biggest challenges in data science, especially for junior data scientists, is distinguishing between these two cases. This question challenges you to recognize the importance of correcting for multiple comparisons, considering effect sizes, choosing the right model, and testing out small-scale interventions before committing to big ones.</p><p>Interviews are hard, and they take practice. Try not to get discouraged if you get turned down—it happens to everyone. But if you keep learning, keep sharing your work online, and maintain good relationships with the people in your network, I’m confident that you’ll find work.</p>'
});
            </script>
        
    </body>
</html>